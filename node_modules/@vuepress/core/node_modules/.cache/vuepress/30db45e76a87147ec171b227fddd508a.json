{"remainingRequest":"C:\\Users\\zhuib\\Desktop\\vuepress-starter\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!C:\\Users\\zhuib\\Desktop\\vuepress-starter\\node_modules\\@vuepress\\plugin-pwa\\lib\\SWUpdateEvent.js","dependencies":[{"path":"C:\\Users\\zhuib\\Desktop\\vuepress-starter\\node_modules\\@vuepress\\plugin-pwa\\lib\\SWUpdateEvent.js","mtime":1698593986047},{"path":"C:\\Users\\zhuib\\Desktop\\vuepress-starter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698515698371},{"path":"C:\\Users\\zhuib\\Desktop\\vuepress-starter\\node_modules\\babel-loader\\lib\\index.js","mtime":1698515698193}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgY2xhc3MgU1dVcGRhdGVFdmVudCB7CiAgY29uc3RydWN0b3IocmVnaXN0cmF0aW9uKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JlZ2lzdHJhdGlvbicsIHsKICAgICAgdmFsdWU6IHJlZ2lzdHJhdGlvbiwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfQoKICAvKioKICAgKiBDaGVjayBpZiB0aGUgbmV3IHNlcnZpY2Ugd29ya2VyIGV4aXN0cyBvciBub3QuCiAgICovCiAgdXBkYXRlKCkgewogICAgcmV0dXJuIHRoaXMucmVnaXN0cmF0aW9uLnVwZGF0ZSgpOwogIH0KCiAgLyoqCiAgICogQWN0aXZhdGUgbmV3IHNlcnZpY2Ugd29ya2VyIHRvIHdvcmsgJ2xvY2F0aW9uLnJlbG9hZCgpJyB3aXRoIG5ldyBkYXRhLgogICAqLwogIHNraXBXYWl0aW5nKCkgewogICAgY29uc3Qgd29ya2VyID0gdGhpcy5yZWdpc3RyYXRpb24ud2FpdGluZzsKICAgIGlmICghd29ya2VyKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH0KICAgIGNvbnNvbGUubG9nKCdbdnVlcHJlc3M6c3ddIERvaW5nIHdvcmtlci5za2lwV2FpdGluZygpLicpOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgY29uc3QgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpOwogICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGV2ZW50ID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnW3Z1ZXByZXNzOnN3XSBEb25lIHdvcmtlci5za2lwV2FpdGluZygpLicpOwogICAgICAgIGlmIChldmVudC5kYXRhLmVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXZlbnQuZGF0YS5lcnJvcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YSk7CiAgICAgICAgfQogICAgICB9OwogICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoewogICAgICAgIHR5cGU6ICdza2lwLXdhaXRpbmcnCiAgICAgIH0sIFtjaGFubmVsLnBvcnQyXSk7CiAgICB9KTsKICB9Cn0="},{"version":3,"names":["SWUpdateEvent","constructor","registration","Object","defineProperty","value","configurable","writable","update","skipWaiting","worker","waiting","Promise","resolve","console","log","reject","channel","MessageChannel","port1","onmessage","event","data","error","postMessage","type","port2"],"sources":["C:/Users/zhuib/Desktop/vuepress-starter/node_modules/@vuepress/plugin-pwa/lib/SWUpdateEvent.js"],"sourcesContent":["export default class SWUpdateEvent {\n  constructor (registration) {\n    Object.defineProperty(this, 'registration', {\n      value: registration,\n      configurable: true,\n      writable: true\n    })\n  }\n\n  /**\n   * Check if the new service worker exists or not.\n   */\n  update () {\n    return this.registration.update()\n  }\n\n  /**\n   * Activate new service worker to work 'location.reload()' with new data.\n   */\n  skipWaiting () {\n    const worker = this.registration.waiting\n    if (!worker) {\n      return Promise.resolve()\n    }\n\n    console.log('[vuepress:sw] Doing worker.skipWaiting().')\n    return new Promise((resolve, reject) => {\n      const channel = new MessageChannel()\n\n      channel.port1.onmessage = (event) => {\n        console.log('[vuepress:sw] Done worker.skipWaiting().')\n        if (event.data.error) {\n          reject(event.data.error)\n        } else {\n          resolve(event.data)\n        }\n      }\n\n      worker.postMessage({ type: 'skip-waiting' }, [channel.port2])\n    })\n  }\n}\n\n"],"mappings":"AAAA,eAAe,MAAMA,aAAa,CAAC;EACjCC,WAAWA,CAAEC,YAAY,EAAE;IACzBC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,cAAc,EAAE;MAC1CC,KAAK,EAAEH,YAAY;MACnBI,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACEC,MAAMA,CAAA,EAAI;IACR,OAAO,IAAI,CAACN,YAAY,CAACM,MAAM,CAAC,CAAC;EACnC;;EAEA;AACF;AACA;EACEC,WAAWA,CAAA,EAAI;IACb,MAAMC,MAAM,GAAG,IAAI,CAACR,YAAY,CAACS,OAAO;IACxC,IAAI,CAACD,MAAM,EAAE;MACX,OAAOE,OAAO,CAACC,OAAO,CAAC,CAAC;IAC1B;IAEAC,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC;IACxD,OAAO,IAAIH,OAAO,CAAC,CAACC,OAAO,EAAEG,MAAM,KAAK;MACtC,MAAMC,OAAO,GAAG,IAAIC,cAAc,CAAC,CAAC;MAEpCD,OAAO,CAACE,KAAK,CAACC,SAAS,GAAIC,KAAK,IAAK;QACnCP,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;QACvD,IAAIM,KAAK,CAACC,IAAI,CAACC,KAAK,EAAE;UACpBP,MAAM,CAACK,KAAK,CAACC,IAAI,CAACC,KAAK,CAAC;QAC1B,CAAC,MAAM;UACLV,OAAO,CAACQ,KAAK,CAACC,IAAI,CAAC;QACrB;MACF,CAAC;MAEDZ,MAAM,CAACc,WAAW,CAAC;QAAEC,IAAI,EAAE;MAAe,CAAC,EAAE,CAACR,OAAO,CAACS,KAAK,CAAC,CAAC;IAC/D,CAAC,CAAC;EACJ;AACF"}]}